!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){window.onload=function(){let e;const t=document.querySelector(".bucket"),o=document.querySelector(".picker"),r=document.querySelector(".move"),n=document.querySelector(".transform"),c=document.querySelectorAll(".elem"),l=document.querySelector("body"),u=document.querySelector(".save"),a=document.querySelector(".load"),s=document.querySelector(".prev"),i=document.querySelector(".cur");let d=1;function f(){e="paintBucket",l.style.cursor="url('./palette/bucket.webp'), auto"}function p(){e="chooseColor",l.style.cursor="url('./palette/color-picker.webp'), auto"}function y(){e="moveAction",l.style.cursor="url('./palette/move.webp'), auto"}function m(){e="transformation",l.style.cursor="url('./palette/transform.webp'), auto"}function b(){c.forEach((e,t)=>{let o="check"+t,r=JSON.parse(localStorage.getItem(o));for(let t in r)e.style[t]=r[t]}),l.style.cursor="auto"}function k(){c.forEach((e,t)=>{let o="check"+t;localStorage.removeItem(o),localStorage.setItem(o,JSON.stringify(e.style))}),l.style.cursor="auto"}function g(e,t){t.style.left=e.pageX-t.offsetWidth/2+"px",t.style.top=e.pageY-t.offsetHeight/2+"px"}document.addEventListener("keydown",e=>{switch(e.keyCode){case 80:f();break;case 67:p();break;case 77:y();break;case 84:m();break;case 83:k();break;case 76:b()}}),t.addEventListener("click",f),o.addEventListener("click",p),r.addEventListener("click",y),n.addEventListener("click",m),c.forEach(t=>{t.addEventListener("click",function(){switch(e){case"paintBucket":t.style.backgroundColor=i.style.backgroundColor;break;case"transformation":"100%"===t.style.borderRadius?t.style.borderRadius="":t.style.borderRadius="100%"}})}),l.addEventListener("click",t=>{"chooseColor"===e&&(s.style.backgroundColor=i.style.backgroundColor,i.style.backgroundColor=window.getComputedStyle(t.target).backgroundColor)}),c.forEach((t,o)=>{t.onmousedown=function(r){if("moveAction"===e){let e=Number(t.style.left.split("px")[0]),n=Number(t.style.top.split("px")[0]);g(r,t),t.style.zIndex=++d,document.onmousemove=function(e){g(e,t)},t.onmouseup=function(r){c.forEach((t,c)=>{if(o!=c){let o=+t.style.left.split("px")[0],c=+t.style.top.split("px")[0];const l=r.pageX>o+10&&r.pageX<o+190,u=r.pageY>c+10&&r.pageY<c+190;l&&u&&(t.style.left=e+"px",t.style.top=n+"px")}}),document.onmousemove=null,t.onmouseup=null}}},t.ondragstart=function(){return!1}}),u.addEventListener("click",k),a.addEventListener("click",b)}}]);